@import "../../styles/responsive.scss";

.layout {
  min-height: 100vh;
  padding: 20px;
  position: relative;

  .layout-container {
    display: grid;
    grid-template-columns: 290px minmax(0, 1fr);
    gap: 20px;
    min-height: calc(100vh - 40px);

    .layout-left {
      position: sticky;
      top: 20px;
      height: calc(100vh - 40px);
      z-index: 20;
    }

    .layout-right {
      background: var(--admin-surface);
      border: 1px solid var(--admin-border);
      border-radius: 20px;
      padding: 24px;
      box-shadow: var(--admin-shadow-soft);
      overflow: hidden;

      .layout-content {
        margin-top: 20px;
        height: calc(100% - 84px);
        overflow-y: auto;
        padding-right: 4px;

        &::-webkit-scrollbar {
          width: 8px;
        }

        &::-webkit-scrollbar-thumb {
          background: rgba(15, 23, 42, 0.2);
          border-radius: 20px;
        }
      }
    }
  }

  .layout-overlay {
    display: none;
  }

  @include md {
    padding: 12px;

    .layout-container {
      grid-template-columns: 1fr;
      min-height: calc(100vh - 24px);

      .layout-left {
        position: fixed;
        top: 12px;
        left: 12px;
        width: min(320px, calc(100vw - 24px));
        height: calc(100vh - 24px);
        z-index: 60;
        transform: translateX(-120%);
        transition: transform 0.3s ease;
      }

      .layout-right {
        border-radius: 16px;
        padding: 16px;

        .layout-content {
          margin-top: 16px;
          height: calc(100% - 72px);
        }
      }
    }

    .layout-overlay {
      display: block;
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.45);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 50;
    }
  }

  &.sidebar-open {
    .layout-left {
      transform: translateX(0);
    }

    .layout-overlay {
      opacity: 1;
      visibility: visible;
    }
  }
}
